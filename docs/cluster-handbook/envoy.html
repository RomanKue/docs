<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/WADTFY/wadtfy-docs/assets/css/just-the-docs-default.css"> <script src="/WADTFY/wadtfy-docs/assets/js/vendor/lunr.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mermaid@9.3.0/dist/mermaid.min.js"></script> <script src="/WADTFY/wadtfy-docs/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Envoy | WADTFY</title> <meta name="generator" content="Jekyll v4.3.2" /> <meta property="og:title" content="Envoy" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="WADTFY Docs" /> <meta property="og:description" content="WADTFY Docs" /> <link rel="canonical" href="https://pages.atc-github.azure.cloud.bmw/WADTFY/wadtfy-docs//WADTFY/wadtfy-docs/cluster-handbook/envoy.html" /> <meta property="og:url" content="https://pages.atc-github.azure.cloud.bmw/WADTFY/wadtfy-docs//WADTFY/wadtfy-docs/cluster-handbook/envoy.html" /> <meta property="og:site_name" content="WADTFY" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Envoy" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"WADTFY Docs","headline":"Envoy","url":"https://pages.atc-github.azure.cloud.bmw/WADTFY/wadtfy-docs//WADTFY/wadtfy-docs/cluster-handbook/envoy.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Feather. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/WADTFY/wadtfy-docs/" class="site-title lh-tight"> WADTFY </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/WADTFY/wadtfy-docs/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in Onboarding Handbook category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/WADTFY/wadtfy-docs/onboarding-handbook/" class="nav-list-link">Onboarding Handbook</a><ul class="nav-list "></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in Cluster Handbook category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/WADTFY/wadtfy-docs/cluster-handbook/" class="nav-list-link">Cluster Handbook</a><ul class="nav-list "></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search WADTFY" aria-label="Search WADTFY" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://argocd.api-i.bmwgroup.net" class="site-button" > Int </a> </li> <li class="aux-nav-list-item"> <a href="https://argocd.api.bmwgroup.net" class="site-button" > Prod </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="">DevOps Handbook</a></li> <li class="breadcrumb-nav-list-item"><span>Envoy</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <p><strong>Table of Contents</strong></p> <!-- START doctoc generated TOC please keep comment here to allow auto update --> <!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE --> <ul> <li><a href="#envoy">Envoy</a> <ul> <li><a href="#architecture">Architecture</a> <ul> <li><a href="#authorization">Authorization</a></li> <li><a href="#content-encoding">Content Encoding</a></li> <li><a href="#tls-termination">TLS Termination</a></li> <li><a href="#accessing-the-kubernetes-api">Accessing the Kubernetes API</a></li> </ul> </li> <li><a href="#testing-locally">Testing Locally</a></li> </ul> </li> </ul> <!-- END doctoc generated TOC please keep comment here to allow auto update --> <h1 id="envoy"> <a href="#envoy" class="anchor-heading" aria-labelledby="envoy"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Envoy </h1> <p><a href="https://www.envoyproxy.io">Envoy proxy</a> is used in UNITY to proxy all traffic going in and out of the app’s main container by following the service mesh pattern.</p> <p>The config for envoy is part of the <a href="https://atc-github.azure.cloud.bmw/UNITY/unity-helm-charts/tree/main/charts/unity-app">unity-app</a> Helm chart.</p> <h2 id="architecture"> <a href="#architecture" class="anchor-heading" aria-labelledby="architecture"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Architecture </h2> <p>The basic idea of a service mesh is to offload some logic from the application’s container to a sidecar. Typically, authorization, TLS, content encoding, metrics and other things are handled by a sidecar. In UNITY, an app is deployed with some sidecars, one of them being an envoy proxy as shown in the diagram below:</p><pre><code class="language-mermaid">graph TB
subgraph UNITY
    subgraph pod
        envoy-- HTTP request --&gt;main
        main-- HTTP response --&gt;envoy
        envoy--&gt;authz
    end
    subgraph oauth2 [OAuth2 Proxy]
    end
    authz-- authentication --&gt;oauth2
end
authz-- authorization --&gt;WebEAM
oauth2-- authentication --&gt;WebEAM
client-- HTTPS request --&gt;envoy
envoy-- HTTPS response --&gt;client
</code></pre><p>The subsections below detail some aspects the envoy proxy is handling.</p> <h3 id="authorization"> <a href="#authorization" class="anchor-heading" aria-labelledby="authorization"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Authorization </h3> <p>All traffic to a pod is handled by the envoy proxy. This is enforced via a <a href="https://kubernetes.io/docs/concepts/services-networking/network-policies/"><code class="language-plaintext highlighter-rouge">NetworkPolicy</code></a>.</p> <p>The network policy makes is part of the <a href="https://atc-github.azure.cloud.bmw/UNITY/unity-helm-charts/tree/main/charts/unity-app">unity-app</a> Helm chart and makes sure that only one port can receive traffic:</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">networking.k8s.io/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">NetworkPolicy</span>
<span class="na">metadata</span><span class="pi">:</span>
<span class="c1"># ...</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">egress</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="pi">{</span> <span class="pi">}</span>
  <span class="na">ingress</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">ports</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">port</span><span class="pi">:</span> <span class="m">8000</span>
          <span class="na">protocol</span><span class="pi">:</span> <span class="s">TCP</span>
  <span class="na">podSelector</span><span class="pi">:</span>
    <span class="na">matchLabels</span><span class="pi">:</span>
    <span class="c1"># ...</span>
  <span class="na">policyTypes</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">Ingress</span>
    <span class="pi">-</span> <span class="s">Egress</span>
</code></pre></div></div> <p>Since the envoy proxy is listening to the exposed port, it can safely handle authorization. This is done via the <a href="https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/ext_authz_filter#external-authorization">External Authorization</a> feature. Basically, envoy calls a webservice for every request to determine if a request is authorized. Only if the external authorization service is authorizing the request, it passed on upstream to the main container.</p> <p>In a UNITY app, the authorization service is implemented in the <a href="https://atc-github.azure.cloud.bmw/UNITY/authz">authz</a> service, which runs as a second sidecar container. This sidecar can be configured for each UNITY app, individually.</p> <p>For example, an OAuth2 flow to WebEAM may be initiated for unauthorized requests or certain roles should be checked by the sidecar. Here is an example configuration:</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1beta1</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">foo</span>
<span class="na">deployments</span><span class="pi">:</span>
  <span class="na">ui</span><span class="pi">:</span>
    <span class="na">replicas</span><span class="pi">:</span> <span class="m">1</span>
    <span class="na">container</span><span class="pi">:</span>
      <span class="na">image</span><span class="pi">:</span> <span class="s">app-foo-ui</span>
      <span class="na">tag</span><span class="pi">:</span> <span class="s">latest</span>
    <span class="na">auth</span><span class="pi">:</span>
      <span class="na">oauth2</span><span class="pi">:</span>
        <span class="na">enabled</span><span class="pi">:</span> <span class="no">true</span>
      <span class="na">roles</span><span class="pi">:</span>
        <span class="na">b2x</span><span class="pi">:</span>
          <span class="na">any</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s">PMD</span>
            <span class="pi">-</span> <span class="s">B2B_I</span>
</code></pre></div></div> <h3 id="content-encoding"> <a href="#content-encoding" class="anchor-heading" aria-labelledby="content-encoding"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Content Encoding </h3> <p>For large request payloads, it makes sense to enable <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Encoding">content-encoding</a>, e.g. based on gzip. Instead of handling this in the application containers, the envoy proxy <a href="https://www.envoyproxy.io/docs/envoy/latest/start/sandboxes/gzip.html">compresses and decompresses</a> payloads.</p> <h3 id="tls-termination"> <a href="#tls-termination" class="anchor-heading" aria-labelledby="tls-termination"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> TLS Termination </h3> <p>TLS is terminated by the envoy proxy for inbound traffic as well as for outbound traffic. This means, an app’s main container does not need to enable TLS to serve requests and can simply serve traffic using simple HTTP without TLS. In addition, the app’s main container does not need to maintain a trust store to connect to other services in a secure way when calling services through the envoy proxy.</p> <p>All this is configured in the <a href="https://atc-github.azure.cloud.bmw/UNITY/unity-helm-charts/tree/main/charts/unity-app">unity-app</a> Helm chart.</p> <p>Read more about it in <a href="https://www.envoyproxy.io/docs/envoy/latest/start/quick-start/securing.html">Securing Envoy</a>.</p> <h3 id="accessing-the-kubernetes-api"> <a href="#accessing-the-kubernetes-api" class="anchor-heading" aria-labelledby="accessing-the-kubernetes-api"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Accessing the Kubernetes API </h3> <p>It is possible to access the <a href="https://kubernetes.io/docs/reference/kubernetes-api/">Kubernetes API</a> from an application by sending a request to <code class="language-plaintext highlighter-rouge">http://localhost:8011/&lt;path_to_resource&gt;</code>. The reason for this is to provide information about the k8s cluster to the applications managed by the platform.</p> <p>The following request sent from the main container of an app returns the secret <code class="language-plaintext highlighter-rouge">app-test</code> from the namespace <code class="language-plaintext highlighter-rouge">int</code>:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl http://localhost:8011/api/v1/namespaces/int/secrets/app-test
</code></pre></div></div> <p>Note that in order to have access to a given resource, you must configure the necessary <a href="https://kubernetes.io/docs/reference/access-authn-authz/rbac/">RBAC</a> objects.</p> <h2 id="testing-locally"> <a href="#testing-locally" class="anchor-heading" aria-labelledby="testing-locally"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Testing Locally </h2> <p>The simplest setup is to run envoy as docker container locally using <code class="language-plaintext highlighter-rouge">docker</code> or <code class="language-plaintext highlighter-rouge">podman</code>. Alternatively, it is also possible to install envoy directly on the machine by following the <a href="https://www.envoyproxy.io/docs/envoy/latest/start/install">official docs</a>.</p> <p>Since the config would require adjustments when running envoy outside a container, the following steps will show how to run envoy locally in a container only.</p> <p>To run the same config as in a pod of an app, set the config of an app to analyze by defining the following env variables.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">NAME</span><span class="o">=</span>&lt;name of the app, e.g. services&gt;
<span class="nv">DEPLOYMENT</span><span class="o">=</span>&lt;name of the deployment, e.g. api&gt;
</code></pre></div></div> <p>Next, create a local tmp folder and dump the envoy config to a file.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl get secret app-<span class="nv">$NAME</span>-<span class="nv">$DEPLOYMENT</span><span class="nt">-tls</span> <span class="nt">-ojson</span> | jq <span class="nt">-r</span> <span class="s1">'.data["tls.crt"] | @base64d'</span>  <span class="o">&gt;</span> tls.crt
kubectl get secret app-<span class="nv">$NAME</span>-<span class="nv">$DEPLOYMENT</span><span class="nt">-tls</span> <span class="nt">-ojson</span> | jq <span class="nt">-r</span> <span class="s1">'.data["tls.key"] | @base64d'</span>  <span class="o">&gt;</span> tls.key
kubectl get secret app-<span class="nv">$NAME</span><span class="nt">-bmw-certificates</span> <span class="nt">-ojson</span> | jq <span class="nt">-r</span> <span class="s1">'.data["ca.crt"] | @base64d'</span>  <span class="o">&gt;</span> ca.crt
kubectl get cm app-<span class="nv">$NAME</span>-<span class="nv">$DEPLOYMENT</span><span class="nt">-envoy-config</span> <span class="nt">-ojson</span> | jq <span class="nt">-r</span> <span class="s1">'.data["config.yaml"]'</span> <span class="o">&gt;</span> config.yaml
</code></pre></div></div> <p>Now run envoy (use <code class="language-plaintext highlighter-rouge">docker</code> instead of <code class="language-plaintext highlighter-rouge">podman</code> if you prefer docker).</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>podman run <span class="se">\</span>
  <span class="nt">--mount</span> <span class="nb">type</span><span class="o">=</span><span class="nb">bind</span>,src<span class="o">=</span><span class="si">$(</span><span class="nb">pwd</span><span class="si">)</span>/ca.crt,target<span class="o">=</span>/var/run/secrets/unity.bmwgroup.net/ca/ca.crt <span class="se">\</span>
  <span class="nt">--mount</span> <span class="nb">type</span><span class="o">=</span><span class="nb">bind</span>,src<span class="o">=</span><span class="si">$(</span><span class="nb">pwd</span><span class="si">)</span>/tls.crt,target<span class="o">=</span>/var/run/secrets/unity.bmwgroup.net/tls/tls.crt <span class="se">\</span>
  <span class="nt">--mount</span> <span class="nb">type</span><span class="o">=</span><span class="nb">bind</span>,src<span class="o">=</span><span class="si">$(</span><span class="nb">pwd</span><span class="si">)</span>/tls.key,target<span class="o">=</span>/var/run/secrets/unity.bmwgroup.net/tls/tls.key <span class="se">\</span>
  <span class="nt">--mount</span> <span class="nb">type</span><span class="o">=</span><span class="nb">bind</span>,src<span class="o">=</span><span class="si">$(</span><span class="nb">pwd</span><span class="si">)</span>/config.yaml,target<span class="o">=</span>/var/run/secrets/unity.bmwgroup.net/envoy/config.yaml <span class="se">\</span>
  <span class="nt">--env</span> <span class="nv">ENVOY_UID</span><span class="o">=</span>0 <span class="se">\</span>
  <span class="nt">-p</span> 8000-8079:8000-8079 <span class="se">\</span>
  docker.io/envoyproxy/envoy:v1.24.0 <span class="se">\</span>
  <span class="nt">-c</span> /var/run/secrets/unity.bmwgroup.net/envoy/config.yaml <span class="se">\</span>
  <span class="nt">--log-level</span> debug
</code></pre></div></div> <p>Open the admin console in the local browser: <a href="http://localhost:8001">http://localhost:8001</a>. Or try with curl:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl http://localhost:8002/oauth2-proxy/ping
</code></pre></div></div> <p>This should respond with <code class="language-plaintext highlighter-rouge">OK</code>.</p> <p>Note that with this config, it is not possible to use envoy to proxy to a locally running app or the <a href="https://atc-github.azure.cloud.bmw/UNITY/authz">authz</a> service. This would require to map the localhost ports into the container, which is not trivial.</p> </div> </div> <div class="search-overlay"></div> </div> <script> var config = { theme: "dark" } ; mermaid.initialize(config); window.mermaid.init(undefined, document.querySelectorAll('.language-mermaid')); </script> </body> </html>
