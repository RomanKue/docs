<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/WADTFY/wadtfy-docs/assets/css/just-the-docs-default.css"> <script src="/WADTFY/wadtfy-docs/assets/js/vendor/lunr.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mermaid@9.3.0/dist/mermaid.min.js"></script> <script src="/WADTFY/wadtfy-docs/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Diagnostics | WADTFY</title> <meta name="generator" content="Jekyll v4.3.2" /> <meta property="og:title" content="Diagnostics" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="WADTFY Docs" /> <meta property="og:description" content="WADTFY Docs" /> <link rel="canonical" href="https://pages.atc-github.azure.cloud.bmw/WADTFY/wadtfy-docs//WADTFY/wadtfy-docs/onboarding-handbook/diagnostics.html" /> <meta property="og:url" content="https://pages.atc-github.azure.cloud.bmw/WADTFY/wadtfy-docs//WADTFY/wadtfy-docs/onboarding-handbook/diagnostics.html" /> <meta property="og:site_name" content="WADTFY" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Diagnostics" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"WADTFY Docs","headline":"Diagnostics","url":"https://pages.atc-github.azure.cloud.bmw/WADTFY/wadtfy-docs//WADTFY/wadtfy-docs/onboarding-handbook/diagnostics.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Feather. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/WADTFY/wadtfy-docs/" class="site-title lh-tight"> WADTFY </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/WADTFY/wadtfy-docs/" class="nav-list-link">Home</a></li><li class="nav-list-item active"><a href="#" class="nav-list-expander" aria-label="toggle links in AppDev Handbook category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/WADTFY/wadtfy-docs/app-dev-handbook/" class="nav-list-link">AppDev Handbook</a><ul class="nav-list "><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/onboarding-handbook/getting-started.html" class="nav-list-link">Getting Started</a></li><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/onboarding-handbook/unity-app-yaml.html" class="nav-list-link">Unity App Yaml</a></li><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/onboarding-handbook/connect-it.html" class="nav-list-link">Connect IT</a></li><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/onboarding-handbook/app-configuration.html" class="nav-list-link">App Configuration</a></li><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/onboarding-handbook/authentication-and-authorization.html" class="nav-list-link">Authentication and Authorization</a></li><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/onboarding-handbook/resources.html" class="nav-list-link">Resources</a></li><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/onboarding-handbook/urls.html" class="nav-list-link">URLs</a></li><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/onboarding-handbook/certificates.html" class="nav-list-link">Certificates</a></li><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/onboarding-handbook/security.html" class="nav-list-link">Security</a></li><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/onboarding-handbook/telemetry.html" class="nav-list-link">Telemetry</a></li><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/onboarding-handbook/external-services.html" class="nav-list-link">External Services</a></li><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/onboarding-handbook/http-headers.html" class="nav-list-link">HTTP Headers</a></li><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/onboarding-handbook/maven-packages.html" class="nav-list-link">Maven Packages</a></li><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/onboarding-handbook/kubernetes.html" class="nav-list-link">Kubernetes</a></li><li class="nav-list-item active"><a href="/WADTFY/wadtfy-docs/onboarding-handbook/diagnostics.html" class="nav-list-link active">Diagnostics</a></li><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/onboarding-handbook/postgresql-flexible-server.html" class="nav-list-link">PostgreSQL Flexible Server</a></li><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/onboarding-handbook/decommissioning-app.html" class="nav-list-link">Decommission App</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in DevOps Handbook category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/WADTFY/wadtfy-docs/cluster-handbook/" class="nav-list-link">DevOps Handbook</a><ul class="nav-list "><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/cluster-handbook/architecture.html" class="nav-list-link">Architecture</a></li><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/cluster-handbook/networking.html" class="nav-list-link">Networking</a></li><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/cluster-handbook/kubernetes.html" class="nav-list-link">Kubernetes</a></li><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/cluster-handbook/envoy.html" class="nav-list-link">Envoy</a></li><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/cluster-handbook/certs.html" class="nav-list-link">Certs</a></li><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/cluster-handbook/technical-accounts.html" class="nav-list-link">Technical Accounts</a></li><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/cluster-handbook/regular-activities.html" class="nav-list-link">Regular Activities</a></li><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/cluster-handbook/incident-recovery.html" class="nav-list-link">Incident Recovery</a></li><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/cluster-handbook/database-incident-recovery.html" class="nav-list-link">Database Incident Recovery</a></li><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/cluster-handbook/alerts.html" class="nav-list-link">Alerts</a></li><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/cluster-handbook/restore-decommissioned-app.html" class="nav-list-link">Restore decommission App</a></li><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/cluster-handbook/cluster-migration.html" class="nav-list-link">Cluster Migration</a></li><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/cluster-handbook/references.html" class="nav-list-link">References</a></li><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/cluster-handbook/accesses.html" class="nav-list-link">Accesses</a></li><li class="nav-list-item "><a href="/WADTFY/wadtfy-docs/cluster-handbook/postgresql-flexible-server.html" class="nav-list-link">PostgreSQL Flexible Server</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search WADTFY" aria-label="Search WADTFY" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://argocd.api-i.bmwgroup.net" class="site-button" > Int </a> </li> <li class="aux-nav-list-item"> <a href="https://argocd.api.bmwgroup.net" class="site-button" > Prod </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/WADTFY/wadtfy-docs/app-dev-handbook/">AppDev Handbook</a></li> <li class="breadcrumb-nav-list-item"><span>Diagnostics</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <p><strong>Table of Contents</strong></p> <!-- START doctoc generated TOC please keep comment here to allow auto update --> <!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE --> <ul> <li><a href="#jvm">JVM</a></li> <li><a href="#remote-debugging">Remote Debugging</a></li> <li><a href="#java-management-extensions-jmx">Java Management Extensions (JMX)</a> <ul> <li><a href="#java-mission-control-jmc">Java Mission Control (JMC)</a></li> <li><a href="#visualvm">VisualVM</a></li> </ul> </li> </ul> <!-- END doctoc generated TOC please keep comment here to allow auto update --> <h1 id="jvm"> <a href="#jvm" class="anchor-heading" aria-labelledby="jvm"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> JVM </h1> <p>The following sections describe diagnostic techniques for JVM based containers such as debugging and profiling.</p> <h1 id="remote-debugging"> <a href="#remote-debugging" class="anchor-heading" aria-labelledby="remote-debugging"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Remote Debugging </h1> <p>To enable remote debugging, first prepare your application to expose the remote debugging port. Quarkus applications can be configured by setting the <code class="language-plaintext highlighter-rouge">JAVA_OPTS_APPEND</code> environment variable. Other JVM based applications may have different ways to configure the JVM argument.</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">api</span><span class="pi">:</span>
  <span class="na">replicas</span><span class="pi">:</span> <span class="m">1</span>
  <span class="na">env</span><span class="pi">:</span>
    <span class="na">JAVA_OPTS_APPEND</span><span class="pi">:</span>
      <span class="na">value</span><span class="pi">:</span> <span class="pi">&gt;</span>
        <span class="s">-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005</span>
</code></pre></div></div> <p>💡 Scaling replicas to one, is a good idea to make sure you have only one pod running when debugging API calls via a REST interface. Otherwise, it is hard to know if the pod you are profiling will serve the request. There will be a performance impact on the running application. Debugging in the production environment is not recommended in general.</p> <p>When the app is prepared for debugging as described above, find the <a href="#inspect-containers-and-pods">pod name</a></p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export</span> <span class="s2">"POD=app-foo-api-5c484fd67c-9x9ll"</span>
</code></pre></div></div> <p>and forward the JMX port locally by running:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl port-forward <span class="nv">$POD</span> 5005:5005
</code></pre></div></div> <p>Next, switch to your IDE. The following instructions will show how to set up a remote debugging session in IntelliJ.</p> <p>To make sure that the Java classes are in sync with the source code in the IDE, it is recommended to checkout the git revision that is deployed in the container.</p> <p>Then create a new run configuration for remote debugging.</p> <p><img src="../assets/run-config.png" alt="" /></p> <p>and start it in debug mode. Then set a thread breakpoint, where you want to start debugging.</p> <p><img src="../assets/breakpoint.png" alt="" /></p> <p>🚨 It is very important to select <strong>Thread</strong>, which will only stop the current thread. When stopping all threads (default breakpoint), the container cannot respond to readiness and liveness probes. This will result in termination of that “ unhealthy” pod and the debugging session will stop after a short period of time.</p> <p>To trigger the breakpoint, invoke the code by calling the REST endpoint, e.g. via Swagger UI. If everything worked, the IDE will stop at the breakpoint and the debugging session can begin.</p> <h1 id="java-management-extensions-jmx"> <a href="#java-management-extensions-jmx" class="anchor-heading" aria-labelledby="java-management-extensions-jmx"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Java Management Extensions (JMX) </h1> <p><a href="https://en.wikipedia.org/wiki/Java_Management_Extensions">JMX</a> can be used to get detailed insight into a JVM. It includes observing the heap, garbage collection and many other JVM related data.</p> <p>To enable JMX, first prepare your application. Quarkus applications can be configured by setting the <code class="language-plaintext highlighter-rouge">JAVA_OPTS_APPEND</code> environment variable. Other JVM based applications may have different ways to configure the JVM argument.</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">api</span><span class="pi">:</span>
  <span class="na">replicas</span><span class="pi">:</span> <span class="m">1</span>
  <span class="na">env</span><span class="pi">:</span>
    <span class="na">JAVA_OPTS_APPEND</span><span class="pi">:</span>
      <span class="na">value</span><span class="pi">:</span> <span class="pi">&gt;</span>
        <span class="s">-Dcom.sun.management.jmxremote</span>
        <span class="s">-Dcom.sun.management.jmxremote.port=10500</span>
        <span class="s">-Dcom.sun.management.jmxremote.rmi.port=10500</span>
        <span class="s">-Djava.rmi.server.hostname=127.0.0.1</span>
        <span class="s">-Dcom.sun.management.jmxremote.authenticate=false</span>
        <span class="s">-Dcom.sun.management.jmxremote.ssl=false</span>
        <span class="s">-Dcom.sun.management.jmxremote.local.only=false</span>
</code></pre></div></div> <p>💡 Scaling replicas to one, is a good idea to make sure you have only one pod running when profiling API calls via a REST interface in the int environment. Otherwise, it is hard to know if the pod you are profiling will serve the request. This does not apply to the prod environment, though. Profiling in prod is not recommended and if you need to do it make sure you have a full understanding of replicas and profiling.</p> <p>The instructions are based on the more general article <a href="https://quarkus.io/blog/monitoring-quarkus-jvm-mode-with-cryostat/">Monitoring Quarkus JVM Mode With Cryostat</a>.</p> <p>When the app is prepared as described above, find the <a href="#inspect-containers-and-pods">pod name</a></p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export</span> <span class="s2">"POD=app-foo-api-5c484fd67c-9x9ll"</span>
</code></pre></div></div> <p>and forward the JMX port locally by running:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl port-forward <span class="nv">$POD</span> 10500:10500
</code></pre></div></div> <p>💡 You can also forward multiple ports if required: <code class="language-plaintext highlighter-rouge">kubectl port-forward app-foo-api-5c484fd67c-9x9ll 8080:8080 10500:10500</code>.</p> <p>There are several clients to connect to the JMX port. <a href="https://jdk.java.net/jmc/8/">JMC</a> and <a href="https://visualvm.github.io">VisualVM</a> are two alternatives described in the next sections.</p> <h2 id="java-mission-control-jmc"> <a href="#java-mission-control-jmc" class="anchor-heading" aria-labelledby="java-mission-control-jmc"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Java Mission Control (JMC) </h2> <p>Install <a href="https://jdk.java.net/jmc/8/">JMC</a> and open it. Next, connect to the JMX connection in the JVM Browser:</p> <p><img src="../assets/jmc-new-jvm-connection.png" alt="" /></p> <p>Enter the mapped port:</p> <p><img src="../assets/jmc-new-jvm-connection-details.png" alt="" /></p> <p>and open the JMC Console:</p> <p><img src="../assets/jmc-start-jmx-console.png" alt="" /></p> <p>Profiling can be done, using the Flight Recorder. By starting a new</p> <p><img src="../assets/jmc-start-flight-recording.png" alt="" /></p> <p>After stopping it and opening the dump, the method profiling data can be inspected in the analysis result.</p> <p>Discussing details of Flight Recorder and JMC is beyond the scope of this section, consult the <a href="https://docs.oracle.com/en/java/java-components/jdk-mission-control/">JDK Mission Control Docs</a> for more information.</p> <h2 id="visualvm"> <a href="#visualvm" class="anchor-heading" aria-labelledby="visualvm"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> VisualVM </h2> <p>Install <a href="https://visualvm.github.io">VisualVM</a> locally. Before opening it, find out which JVM is in the container by running</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl <span class="nb">exec</span> <span class="nv">$POD</span> <span class="nt">--</span> jinfo 1
</code></pre></div></div> <p>Look for something like <code class="language-plaintext highlighter-rouge">java.home=/usr/lib/jvm/java-17-openjdk-17.0.6.0.10-3.el8_7.x86_64</code> which will tell you which JDK to use.</p> <p>Next, make sure you have the correct JDK available locally. Open the VisualVM with the correct JDK.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">JAVA_HOME</span><span class="o">=</span>/path/to/java_home/ visualvm
</code></pre></div></div> <p>💡 It is important to use the same (major version and vendor) JVM locally for starting the Visual VM as used by the container application, otherwise you might see “not supported for this JVM” in Visual VM later on.</p> <p>Add a new JMX connection to <code class="language-plaintext highlighter-rouge">localhost:10500</code>.</p> <p><img src="../assets/add-jmx-connection.png" alt="" /> <img src="../assets/add-jmx-connection-details.png" alt="" /></p> <p>Open the new connection <code class="language-plaintext highlighter-rouge">quarkus-run.jar (pid 1)</code>, which show some details already:</p> <p><img src="../assets/visualvm-overview.png" alt="" /></p> <p>Checkout the <strong>Monitor</strong> and <strong>Threads</strong> tabs, which should give you some insight into your application.</p> <p>The <strong>Sampler</strong> tab might not be available, depending on the JVM (see <a href="#java-mission-control-jmc">JMC</a> for an alternative).</p> </div> </div> <div class="search-overlay"></div> </div> <script> var config = { theme: "dark" } ; mermaid.initialize(config); window.mermaid.init(undefined, document.querySelectorAll('.language-mermaid')); </script> </body> </html>
